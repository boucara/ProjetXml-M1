<!DOCTYPE html>
<html ng-app="myApp">

<head>
  <script type="text/javascript"
        src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
  <script type="text/javascript">
  var myApp = angular.module('myApp',[]);
  myApp.controller('MainController', ['$scope', '$http', function($scope, $http) {
    $scope.GETobtenirRegions = function() {
      $http({
        method : 'GET',
        url : 'http://localhost:1337/obtenirRegions',

        headers: {
          'Content-Type': 'application/JSON'
        },
      }).then(
          function successCallback(response) {
          $scope.regions = response.data; // On stock le JSON obtenu par le WebService
          },
          function errorCallback(response) {
            alert("Echec de l'import des données");
        })
     };
  }]);
  </script>
</head>

<body ng-controller="MainController">

  <h1>Application cliente de visualisation de Monuments</h1>
  <button ng-click="GETobtenirRegions()">Obtenir Régions</button>
  <ul ng-show="regions">
    <h2>{{regions.length}} regions<h2>
    <li ng-repeat="region in regions">
      <h3>{{region}}</h3>
    </li>
  </ul>

</body>

</html>
